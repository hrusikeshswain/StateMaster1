(this["webpackJsonp@hrusikesh/react-demo-statemaster"]=this["webpackJsonp@hrusikesh/react-demo-statemaster"]||[]).push([[0],[,,,,,,,function(e,t,n){},function(e,t,n){e.exports={backdrop:"SpinnerModal_backdrop__2Vk48",modal:"SpinnerModal_modal__1RYLu",header:"SpinnerModal_header__206uy",content:"SpinnerModal_content__srTJd",actions:"SpinnerModal_actions__1OkuE"}},,function(e,t,n){e.exports={button:"Button_button__29WUE"}},,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(6),r=n.n(s),i=(n(18),n(3)),o=n(2),l=(n(7),n(10)),u=n.n(l),d=n(0),j=function(e){return Object(d.jsx)("button",{type:e.type,className:u.a.button,onClick:e.onClick,children:e.children})},b=a.a.createContext({setIsActive:function(e){},isActive:!1,item:{},setItem:function(e){},isUpdate:!1,setIsUpdate:function(e){},isDelete:!1,setIsDelete:function(e){}}),O=function(e){var t=Object(c.useState)("Save"),n=Object(o.a)(t,2),s=n[0],r=n[1],i=Object(c.useContext)(b),l=Object(c.useState)(!1),u=Object(o.a)(l,2),O=u[0],f=u[1];return Object(c.useEffect)((function(){console.log("save used effect item"+i.item),0!==Object.keys(i.item).length&&(r("Update"),i.setIsUpdate(!0),i.setIsActive(i.item.IsActive),f(i.item.IsActive))}),[i.item]),Object(c.useEffect)((function(){console.log("reset Value called"+i.isUpdate),i.isUpdate?(r("Update"),f(i.item.IsActive)):(r("Submit"),f(!1))}),[i.isUpdate]),Object(d.jsx)(a.a.Fragment,{children:Object(d.jsxs)("div",{className:"box",children:[Object(d.jsxs)("div",{className:"leftCheckBox",children:[Object(d.jsx)("input",{type:"checkbox",checked:O,onChange:function(e){console.log(e.target.checked),i.setIsActive(e.target.checked),f(e.target.checked)},className:"marginTop"}),Object(d.jsx)("div",{className:"marginTopActive",children:"Active"})]}),Object(d.jsxs)("div",{className:"rightSaveButton",children:[Object(d.jsx)(j,{onClick:function(t){t.preventDefault(),i.setIsActive(!1),e.onReset(),f(!1),r("Submit"),i.setIsUpdate(!1)},children:"Reset"}),Object(d.jsx)(j,{onClick:function(t){t.preventDefault(),e.onSave()},children:s})]})]})})},f=function(e){var t=["10","20","30"].map((function(e){return Object(d.jsx)("option",{children:e},e)}));return Object(d.jsx)(a.a.Fragment,{children:Object(d.jsxs)("div",{className:"box",children:[Object(d.jsxs)("div",{className:"leftCheckBox",children:[Object(d.jsx)("div",{className:"itemsSelect",children:Object(d.jsx)("p",{children:"Show"})}),Object(d.jsx)("select",{className:"selectItem",children:t}),Object(d.jsx)("div",{className:"itemsSelect",children:Object(d.jsx)("p",{children:"entries"})})]}),Object(d.jsxs)("div",{className:"rightSearchButton",children:[Object(d.jsx)("input",{className:"select",onChange:function(t){e.setQueryParam(t.target.value)}}),Object(d.jsx)("div",{className:"centerSearch",children:Object(d.jsx)("p",{children:"Search:"})})]})]})})},v=n(4),h=n(5),x=(n(20),"http://3.125.218.122:82/"),p={headers:{Authorization:"Bearer 22G0H8qigReaEmATLZvlCK4-EkZfaoAfNHS-11t11fNgKdDxb2L6nMmEfpHEk08S5bCOc2gyGYt0LqKRVUuXwCwIL9G3PWJSYDizHfJtcie2LXpgm5Suq9kQcByiOtrk3HlBhoU-lfEUPcv_E4PHRTpxI7quouf8d-cXj3AvTtn8OXnXYADvJFXeDPg-lbJIKfWOk5DGVGEpyd4IbxF5g2OQedCy1lb0kZV_nwL32j5VZBtIQUT-MlFhXb9i6LRXYyX8OqNnKvWqJ772v_BQWW5sJm_I4YOFnlPYgtkRCtu8v910TC3uJpGKi8A824SY87YZJvX4RCZuXuAkZxjQMqdLYPftDT7uJ7DMh3exDCHneWNUvsUHnuMdCqEpfrXPucwUMp6BflT4qdWMMbt6AGu3tOyzT71T0PuC5hkkree4uTtL7eYOetaR60dXED5w330kOMJfA1CGWtcENCWvqOMszcRHQbFjaQMkxTbBfrbilRfovOfeBe-IyunvrtNQEaOxKOZ6y-yFvOSnWygUeI--CJtFpd80kucaOUQbGfaV2BiGxv10FKXJNN8c0RMKAvuOeq8ay9GWP2gn71rIFfwMhrkY6ql63vaFmER_TaK1M8H1hyYkLEKgpIP_sHdo"}};function m(e){var t=Object(c.useContext)(b),n=Object(c.useState)([]),a=Object(o.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)([]),l=Object(o.a)(i,2),u=l[0],j=l[1],O=[],f=function(){var t=Object(h.a)(Object(v.a)().mark((function t(){var n,c,a,s,i;return Object(v.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setLoader(),O=[],t.prev=2,n=e.stateId.stateId,c=x+"api/CommonMaster/GetStateByCountryId/".concat(n),console.log(c),t.next=8,fetch(c,p);case 8:if((a=t.sent).ok){t.next=11;break}throw new Error("Request failed");case 11:return t.next=13,a.json();case 13:for(i in s=t.sent)O.push(s[i]);r(O),j(O),console.log(O.length),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(2),console.log("error");case 23:e.setLoader();case 24:case"end":return t.stop()}}),t,null,[[2,20]])})));return function(){return t.apply(this,arguments)}}(),m=u.filter((function(t){return t.Name.toLowerCase().includes(e.query.toLowerCase())}));Object(c.useEffect)((function(){console.log("callStatesByCountryIdApi outer called "),"undefine"!==e.stateId&&(console.log("callStatesByCountryIdApi called"),f())}),[e.stateId]),Object(c.useEffect)((function(){console.log(e.query),r(m)}),[e.query]);var C=s.map((function(e,n){var c=e.IsActive?"circle_green":"circle_red",a="deleteStyle".concat(" ","fa"),s=Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:c}),Object(d.jsxs)("div",{className:"divIconRow",children:[Object(d.jsx)("i",{className:a,onClick:function(){return function(e){console.log("delete called "+e.Name),t.setIsDelete(!0),t.setItem(e)}(e)},children:"\uf014"}),Object(d.jsx)("div",{className:"edit-pencil",onClick:function(){return function(e){console.log("edit called "+e.Name),t.setIsDelete(!1),t.setItem(e)}(e)}})]})]});return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{id:"tbd",children:s}),Object(d.jsx)("td",{id:"tbd",children:e.CountryName}),Object(d.jsx)("td",{id:"tbd",children:e.Name}),Object(d.jsx)("td",{id:"tbd",children:e.Description}),Object(d.jsx)("td",{id:"tbd",children:e.DisplayOrder})]},n)}));return Object(d.jsx)("div",{children:Object(d.jsxs)("table",{id:"table",children:[Object(d.jsx)("thead",{id:"th",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{id:"td",children:"Active"}),Object(d.jsx)("td",{id:"td",children:"Country"}),Object(d.jsx)("td",{id:"td",children:"State"}),Object(d.jsx)("td",{id:"td",children:"Description"}),Object(d.jsx)("td",{id:"td",children:"Display Order"})]})}),Object(d.jsx)("tbody",{children:s.length>0?C:Object(d.jsx)("tr",{children:Object(d.jsx)("td",{colspan:"5",children:Object(d.jsx)("p",{style:{width:"100%",textAlign:"center",alignItems:"center"},children:"No record available in this table."})})})})]})})}var C=function(e){var t=Object(c.useState)(""),n=Object(o.a)(t,2),a=n[0],s=n[1];return Object(d.jsxs)("div",{id:"wrapper-box",children:[Object(d.jsx)("h3",{id:"title-heade",children:"View Details"}),Object(d.jsx)(f,{setQueryParam:function(e){s(e)}}),Object(d.jsx)(m,{query:a,stateId:e.stateId,setLoader:e.setLoader})]})},g=function(e){return""===e.trim()},y=function(e){var t=Object(c.useContext)(b),n=Object(c.useState)([]),a=Object(o.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(0),l=Object(o.a)(i,2),u=l[0],j=l[1],O=Object(c.useState)(""),f=Object(o.a)(O,2),p=f[0],m=f[1],C=Object(c.useState)(""),y=Object(o.a)(C,2),k=y[0],I=y[1],N=Object(c.useState)(""),S=Object(o.a)(N,2),E=S[0],M=S[1],D=Object(c.useState)(""),A=Object(o.a)(D,2),R=A[0],q=A[1],X=Object(c.useRef)(),T=Object(c.useRef)(),L=Object(c.useRef)(),J=Object(c.useRef)(),B=Object(c.useRef)(),U=s.map((function(e){return Object(d.jsx)("option",{children:e.Name},e.$id)}));Object(c.useEffect)((function(){!function(){console.log("saveResetFunCall called ");var n=e.onBtnClick.isSave;if(console.log(" "+n),"save"===n){var c=T.current.value,a=L.current.value,r=J.current.value;0===u?alert("select country"):g(c)?alert("enter state name"):g(a)?alert("enter description"):g(r)?alert("enter display order"):(console.log(t.isUpdate),t.isUpdate&&null!==t.item.CountryName?Y({StateId:t.item.StateId,CountryId:t.item.CountryId,Name:c,CountryName:t.item.CountryName,Description:a,DisplayOrder:r,IsActive:t.isActive,CreatedDate:(new Date).toISOString(),CreatedBy:9,CreatedByName:"Demo"}):Y({StateId:"1",CountryId:s[u].CountryId,Name:c,CountryName:s[u].CountryName,Description:a,DisplayOrder:r,IsActive:t.isActive,CreatedDate:(new Date).toISOString(),CreatedBy:9,CreatedByName:"Demo"}))}else"reset"===n&&(P(),console.log(t.isActive))}()}),[e.onBtnClick]);var Y=function(){var n=Object(h.a)(Object(v.a)().mark((function n(c){var a,r,i;return Object(v.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(c),e.setLoader(),n.prev=2,a=x+"api/CommonMaster/StateMaster",!t.isUpdate){n.next=10;break}return n.next=7,fetch(a,{method:"PUT",body:JSON.stringify(c),headers:{"Content-Type":"application/json",Authorization:"Bearer 22G0H8qigReaEmATLZvlCK4-EkZfaoAfNHS-11t11fNgKdDxb2L6nMmEfpHEk08S5bCOc2gyGYt0LqKRVUuXwCwIL9G3PWJSYDizHfJtcie2LXpgm5Suq9kQcByiOtrk3HlBhoU-lfEUPcv_E4PHRTpxI7quouf8d-cXj3AvTtn8OXnXYADvJFXeDPg-lbJIKfWOk5DGVGEpyd4IbxF5g2OQedCy1lb0kZV_nwL32j5VZBtIQUT-MlFhXb9i6LRXYyX8OqNnKvWqJ772v_BQWW5sJm_I4YOFnlPYgtkRCtu8v910TC3uJpGKi8A824SY87YZJvX4RCZuXuAkZxjQMqdLYPftDT7uJ7DMh3exDCHneWNUvsUHnuMdCqEpfrXPucwUMp6BflT4qdWMMbt6AGu3tOyzT71T0PuC5hkkree4uTtL7eYOetaR60dXED5w330kOMJfA1CGWtcENCWvqOMszcRHQbFjaQMkxTbBfrbilRfovOfeBe-IyunvrtNQEaOxKOZ6y-yFvOSnWygUeI--CJtFpd80kucaOUQbGfaV2BiGxv10FKXJNN8c0RMKAvuOeq8ay9GWP2gn71rIFfwMhrkY6ql63vaFmER_TaK1M8H1hyYkLEKgpIP_sHdo"}});case 7:r=n.sent,n.next=13;break;case 10:return n.next=12,fetch(a,{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json",Authorization:"Bearer 22G0H8qigReaEmATLZvlCK4-EkZfaoAfNHS-11t11fNgKdDxb2L6nMmEfpHEk08S5bCOc2gyGYt0LqKRVUuXwCwIL9G3PWJSYDizHfJtcie2LXpgm5Suq9kQcByiOtrk3HlBhoU-lfEUPcv_E4PHRTpxI7quouf8d-cXj3AvTtn8OXnXYADvJFXeDPg-lbJIKfWOk5DGVGEpyd4IbxF5g2OQedCy1lb0kZV_nwL32j5VZBtIQUT-MlFhXb9i6LRXYyX8OqNnKvWqJ772v_BQWW5sJm_I4YOFnlPYgtkRCtu8v910TC3uJpGKi8A824SY87YZJvX4RCZuXuAkZxjQMqdLYPftDT7uJ7DMh3exDCHneWNUvsUHnuMdCqEpfrXPucwUMp6BflT4qdWMMbt6AGu3tOyzT71T0PuC5hkkree4uTtL7eYOetaR60dXED5w330kOMJfA1CGWtcENCWvqOMszcRHQbFjaQMkxTbBfrbilRfovOfeBe-IyunvrtNQEaOxKOZ6y-yFvOSnWygUeI--CJtFpd80kucaOUQbGfaV2BiGxv10FKXJNN8c0RMKAvuOeq8ay9GWP2gn71rIFfwMhrkY6ql63vaFmER_TaK1M8H1hyYkLEKgpIP_sHdo"}});case 12:r=n.sent;case 13:if(console.log(a),r.ok){n.next=17;break}throw console.log("Request failed"),new Error("Request failed");case 17:return n.next=19,r.json();case 19:i=n.sent,console.log(i),1===i||2===i?(P(),e.onStateChange(s[u].CountryId)):console.log("error in data"),n.next=27;break;case 24:n.prev=24,n.t0=n.catch(2),console.log("error");case 27:e.setLoader();case 28:case"end":return n.stop()}}),n,null,[[2,24]])})));return function(e){return n.apply(this,arguments)}}(),w=function(){var t=Object(h.a)(Object(v.a)().mark((function t(n){var c,a,r;return Object(v.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Delete called"),e.setLoader(),t.prev=2,c=x+"api/CommonMaster/StateMaster/".concat(n),t.next=6,fetch(c,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer 22G0H8qigReaEmATLZvlCK4-EkZfaoAfNHS-11t11fNgKdDxb2L6nMmEfpHEk08S5bCOc2gyGYt0LqKRVUuXwCwIL9G3PWJSYDizHfJtcie2LXpgm5Suq9kQcByiOtrk3HlBhoU-lfEUPcv_E4PHRTpxI7quouf8d-cXj3AvTtn8OXnXYADvJFXeDPg-lbJIKfWOk5DGVGEpyd4IbxF5g2OQedCy1lb0kZV_nwL32j5VZBtIQUT-MlFhXb9i6LRXYyX8OqNnKvWqJ772v_BQWW5sJm_I4YOFnlPYgtkRCtu8v910TC3uJpGKi8A824SY87YZJvX4RCZuXuAkZxjQMqdLYPftDT7uJ7DMh3exDCHneWNUvsUHnuMdCqEpfrXPucwUMp6BflT4qdWMMbt6AGu3tOyzT71T0PuC5hkkree4uTtL7eYOetaR60dXED5w330kOMJfA1CGWtcENCWvqOMszcRHQbFjaQMkxTbBfrbilRfovOfeBe-IyunvrtNQEaOxKOZ6y-yFvOSnWygUeI--CJtFpd80kucaOUQbGfaV2BiGxv10FKXJNN8c0RMKAvuOeq8ay9GWP2gn71rIFfwMhrkY6ql63vaFmER_TaK1M8H1hyYkLEKgpIP_sHdo"}});case 6:if(a=t.sent,console.log(c),a.ok){t.next=11;break}throw console.log("Request failed"),new Error("Request failed");case 11:return t.next=13,a.json();case 13:r=t.sent,console.log(r),2===r?(P(),e.onStateChange(s[u].CountryId)):console.log("error in data"),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(2),console.log("error");case 21:e.setLoader();case 22:case"end":return t.stop()}}),t,null,[[2,18]])})));return function(e){return t.apply(this,arguments)}}(),P=function(){q(""),M(""),I(""),m(s[u].CountryName),t.setIsActive(!1),t.setIsUpdate(!1)},G=function(){var t=Object(h.a)(Object(v.a)().mark((function t(){var n,c,a,s,i;return Object(v.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setLoader(),t.prev=1,n=x+"api/CommonMaster/CountryMaster",t.next=5,fetch(n,{headers:{Authorization:"Bearer 22G0H8qigReaEmATLZvlCK4-EkZfaoAfNHS-11t11fNgKdDxb2L6nMmEfpHEk08S5bCOc2gyGYt0LqKRVUuXwCwIL9G3PWJSYDizHfJtcie2LXpgm5Suq9kQcByiOtrk3HlBhoU-lfEUPcv_E4PHRTpxI7quouf8d-cXj3AvTtn8OXnXYADvJFXeDPg-lbJIKfWOk5DGVGEpyd4IbxF5g2OQedCy1lb0kZV_nwL32j5VZBtIQUT-MlFhXb9i6LRXYyX8OqNnKvWqJ772v_BQWW5sJm_I4YOFnlPYgtkRCtu8v910TC3uJpGKi8A824SY87YZJvX4RCZuXuAkZxjQMqdLYPftDT7uJ7DMh3exDCHneWNUvsUHnuMdCqEpfrXPucwUMp6BflT4qdWMMbt6AGu3tOyzT71T0PuC5hkkree4uTtL7eYOetaR60dXED5w330kOMJfA1CGWtcENCWvqOMszcRHQbFjaQMkxTbBfrbilRfovOfeBe-IyunvrtNQEaOxKOZ6y-yFvOSnWygUeI--CJtFpd80kucaOUQbGfaV2BiGxv10FKXJNN8c0RMKAvuOeq8ay9GWP2gn71rIFfwMhrkY6ql63vaFmER_TaK1M8H1hyYkLEKgpIP_sHdo"}});case 5:if(c=t.sent,console.log(n),c.ok){t.next=10;break}throw console.log("Request failed"),new Error("Request failed");case 10:return t.next=12,c.json();case 12:for(i in a=t.sent,s=[],console.log(a),a.sort((function(e,t){return e.Name<t.Name?-1:e.Name>t.Name?1:0})))s.push(a[i]);r(s),m(s[u].CountryName),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(1),console.log("error");case 24:e.setLoader();case 25:case"end":return t.stop()}}),t,null,[[1,21]])})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){G()}),[]),Object(c.useEffect)((function(){var e=t.isDelete.isDelete;0===Object.keys(t.item).length||e||(console.log("edit used effect item"+t.item.CountryName),m(t.item.CountryName),I(t.item.Name),q(t.item.Description),M(t.item.DisplayOrder))}),[t.item]),Object(c.useEffect)((function(){var e=t.isDelete.isDelete;console.log("useEffect in delete click called "+e),0!==Object.keys(t.item).length&&e&&(console.log("edit used effect item"+t.item.CountryName),w(t.item.StateId))}),[t.isDelete]);return Object(d.jsx)("div",{children:Object(d.jsx)("form",{ref:B,children:Object(d.jsxs)("div",{className:"box",children:[Object(d.jsxs)("div",{className:"one",children:[Object(d.jsx)("label",{children:"Country"}),Object(d.jsx)("select",{value:p,ref:X,className:"select",onChange:function(t){console.log(X.current.value),console.log(t.target.selectedIndex),j(t.target.selectedIndex);var n=t.target.selectedIndex;console.log(s[n].CountryId),e.onStateChange(s[n].CountryId),P()},children:U})]}),Object(d.jsxs)("div",{className:"one",children:[Object(d.jsx)("label",{children:"State"}),Object(d.jsx)("input",{ref:T,className:"select",value:k,onChange:function(e){I(e.target.value)}})]}),Object(d.jsxs)("div",{className:"one",children:[Object(d.jsx)("label",{children:"Description"}),Object(d.jsx)("input",{ref:L,className:"select",value:R,onChange:function(e){q(e.target.value)}})]}),Object(d.jsxs)("div",{className:"one",children:[Object(d.jsx)("label",{children:"Display Order"}),Object(d.jsx)("input",{ref:J,className:"select",value:E,onChange:function(e){M(e.target.value)}})]})]})})})},k=n(8),I=n.n(k);n(21);function N(){return Object(d.jsx)("div",{className:"spinner-container",children:Object(d.jsx)("div",{className:"loading-spinner"})})}var S=function(e){var t=function(){return Object(d.jsx)("div",{className:I.a.backdrop})},n=function(e){return Object(d.jsx)("div",{className:I.a.modal,children:Object(d.jsx)(N,{})})},a=document.getElementById("overlays");return Object(d.jsxs)(c.Fragment,{children:[r.a.createPortal(Object(d.jsx)(t,{}),a),r.a.createPortal(Object(d.jsx)(n,{}),a)]})},E=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(!1),l=Object(o.a)(r,2),u=l[0],j=l[1],O=Object(c.useState)(!1),f=Object(o.a)(O,2),v=f[0],h=f[1],x=Object(c.useState)({}),p=Object(o.a)(x,2),m=p[0],C=p[1],g={setIsActive:function(e){s(e)},isActive:a,setItem:function(e){C(e)},item:m,setIsUpdate:function(e){j(e)},isUpdate:u,setIsDelete:function(e){h((function(t){return Object(i.a)(Object(i.a)({},t),{},{isDelete:e})}))},isDelete:v};return Object(d.jsx)(b.Provider,{value:g,children:e.children})},M=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(o.a)(s,2),l=r[0],u=r[1],j=Object(c.useState)(!1),b=Object(o.a)(j,2),f=b[0],v=b[1],h=function(){v((function(e){return!e}))},x=Object(d.jsxs)("div",{id:"container-bg",children:[Object(d.jsxs)("div",{id:"wrapper-box",children:[Object(d.jsx)("h3",{id:"title-heade",children:"State Master"}),Object(d.jsx)(y,{onBtnClick:l,setLoader:h,onStateChange:function(e){a((function(t){return Object(i.a)(Object(i.a)({},t),{},{stateId:e})}))}}),Object(d.jsx)(O,{onSave:function(){u((function(e){return Object(i.a)(Object(i.a)({},e),{},{isSave:"save"})}))},onReset:function(){u((function(e){return Object(i.a)(Object(i.a)({},e),{},{isSave:"reset"})}))}})]}),Object(d.jsx)(C,{stateId:n,setLoader:h})]});return Object(d.jsxs)(E,{children:[x,f&&Object(d.jsx)(S,{})]})};r.a.render(Object(d.jsx)(M,{}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.6aa6989b.chunk.js.map